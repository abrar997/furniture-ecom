<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link rel="stylesheet" href="./css/input-style.css" />
    <link rel="stylesheet" href="./css/output-style.css" />
    <title>login</title>
  </head>
  <body class="bg-slate-100">
    <main class="login-page">
      <section
        class="flex flex-col p-4 h-screen font-main lg:w-[45%] m-auto items-center justify-center my-auto"
      >
        <div
          class="rounded grid bg-white p-4 lg:py-20 py-10 w-full shadow lg:gap-6"
        >
          <div class="text-center m-auto" id="login-title">
            <h1
              class="flex text-4xl capitalize font-bold gap-4 items-end justify-center"
            >
              Welcome Back !
            </h1>
            <p class="text-center text-gray-600 text-lg" id="">
              Please enter your credentials to access your account.
            </p>
          </div>
          <form action="" class="grid gap-6 lg:px-4" id="login-form">
            <div class="grid gap-2">
              <label for="email" class="font-semibold text-lg text-gray-600"
                >Email</label
              >
              <input
                type="email"
                placeholder="example@gmail.com"
                class="focus:outline-none text-lg border rounded px-2 py-3 w-full"
                id="email"
                required
              />
            </div>
            <div class="grid gap-2">
              <label for="password" class="font-semibold text-lg text-gray-600"
                >Password</label
              >
              <input
                type="password"
                placeholder="********"
                class="focus:outline-none text-lg border rounded px-2 py-3 w-full"
                id="password"
                required
              />
            </div>
            <button
              class="bg-main hover:bg-opacity-85 lg:text-xl text-lg text-secondary rounded py-3"
              type="submit"
              id="login-btn"
            >
              Send
            </button>
            <p class="text-lg text-gray-400 tracking-wide -mt-3">
              if you want to delete your account ,
              <a
                href="/logout.html"
                class="text-blue-700 underline hover:text-opacity-85"
                >Logout</a
              >
            </p>
          </form>
        </div>
      </section>
    </main>
    <script>
      var loginForm = document.getElementById("login-form");
      if (localStorage.getItem("data")) {
        //if login change elements of login page
        document.getElementById("login-title").innerHTML =
          "<h1 class='text-4xl font-semibold lg:font-bold text-main'>You are already login </h1>";
        //if login hide form
        loginForm.style.display = "none";
        setTimeout(() => {
          window.location.href = "/index.html"; // if login return to home page after 1.5s
        }, 1500);
      } else {
        // if not login add user and got to home page
        loginForm.addEventListener("submit", function (e) {
          var email = document.getElementById("email").value;
          var password = document.getElementById("password").value;

          e.preventDefault();
          const user = {
            email,
            password,
          };
          localStorage.setItem("data", JSON.stringify(user));
          loginForm.reset(); //reset form inputs
          window.location.href = "/index.html";
        });
      }
    </script>
  </body>
</html>
